<template>
    <div class="flex justify-between p-2 border font-worksans rounded-lg items-center">
        <section class="flex gap-3">

            <div class="h-full" v-if="fileType == 'pdf'">
                <img src="@/assets/images/pdf-icon.png" alt="Likambo Logo" />
            </div>
            <div class="h-full" v-else>
                <img src="@/assets/images/image-icon.png" alt="Likambo Logo" />
            </div>
            <div class="flex flex-col">
                <p class="text-xs font-medium text-truncate">{{ fileName }}</p>
                <p class="text-[10px] text-neutral-40">{{ formattedFileSize }}</p>
            </div>
        </section>
        <section>
            <div class="cursor-pointer" @click="$emit('reset')">

                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M8.27985 22.75C7.4463 22.7422 6.64621 22.421 6.03853 21.8504C5.43086 21.2798 5.06008 20.5014 4.99986 19.67L4.26986 9.23003C4.26329 9.13154 4.27619 9.03272 4.30781 8.93921C4.33944 8.84571 4.38917 8.75934 4.45417 8.68506C4.51917 8.61077 4.59817 8.55001 4.68665 8.50626C4.77513 8.4625 4.87136 8.4366 4.96985 8.43003C5.06835 8.42347 5.16717 8.43636 5.26067 8.46799C5.35418 8.49961 5.44054 8.54935 5.51483 8.61435C5.58912 8.67935 5.64987 8.75834 5.69363 8.84682C5.73739 8.93531 5.76329 9.03154 5.76986 9.13003L6.47986 19.57C6.51531 20.0298 6.72396 20.459 7.06365 20.7708C7.40334 21.0827 7.84874 21.2539 8.30986 21.25L15.8599 21.16C16.3186 21.1555 16.7583 20.976 17.0891 20.6582C17.4199 20.3404 17.6169 19.9082 17.6399 19.45L18.2299 9.13003C18.2452 8.9311 18.3372 8.74589 18.4865 8.61345C18.6357 8.48101 18.8305 8.41166 19.0299 8.42003C19.2271 8.4329 19.4113 8.52311 19.5423 8.67105C19.6734 8.81898 19.7408 9.01268 19.7299 9.21003L19.1399 19.54C19.0896 20.3752 18.7258 21.1605 18.1214 21.739C17.5169 22.3175 16.7164 22.6464 15.8799 22.66L8.32985 22.75H8.27985ZM14.9799 12.85C14.9773 12.6519 14.8974 12.4627 14.7573 12.3226C14.6172 12.1825 14.428 12.1026 14.2299 12.1H9.76986C9.57094 12.1 9.38018 12.179 9.23952 12.3197C9.09887 12.4604 9.01986 12.6511 9.01986 12.85C9.01986 13.0489 9.09887 13.2397 9.23952 13.3804C9.38018 13.521 9.57094 13.6 9.76986 13.6H14.2299C14.33 13.6027 14.4297 13.5853 14.523 13.5488C14.6163 13.5123 14.7014 13.4575 14.7732 13.3876C14.8449 13.3176 14.902 13.2341 14.9409 13.1417C14.9798 13.0494 14.9999 12.9502 14.9999 12.85H14.9799ZM14.1999 16.55C14.1999 16.3511 14.1208 16.1604 13.9802 16.0197C13.8395 15.879 13.6488 15.8 13.4499 15.8H10.5499C10.3509 15.8 10.1602 15.879 10.0195 16.0197C9.87887 16.1604 9.79986 16.3511 9.79986 16.55C9.79986 16.7489 9.87887 16.9397 10.0195 17.0804C10.1602 17.221 10.3509 17.3 10.5499 17.3H13.4499C13.648 17.2974 13.8372 17.2176 13.9773 17.0775C14.1174 16.9374 14.1973 16.7481 14.1999 16.55ZM20.9999 6.52003C20.9755 6.69849 20.8869 6.86195 20.7507 6.97977C20.6145 7.09759 20.44 7.16168 20.2599 7.16003H20.1499C14.7519 6.41819 9.27782 6.41819 3.87986 7.16003C3.78063 7.17717 3.67899 7.17442 3.58083 7.15194C3.48268 7.12946 3.38997 7.0877 3.30809 7.02908C3.22621 6.97047 3.1568 6.89616 3.10389 6.81049C3.05097 6.72482 3.01561 6.62949 2.99986 6.53003C2.96812 6.33378 3.0156 6.13296 3.13186 5.9717C3.24811 5.81045 3.42364 5.70194 3.61986 5.67003C3.74986 5.67003 5.12986 5.43003 7.29986 5.26003L7.65985 3.38003C7.77411 2.77989 8.09449 2.23854 8.56561 1.8496C9.03672 1.46066 9.62894 1.24858 10.2399 1.25003H13.7699C14.3853 1.24709 14.9822 1.46094 15.4558 1.85407C15.9294 2.2472 16.2494 2.79452 16.3599 3.40003L16.6999 5.26003C17.8899 5.36003 19.1099 5.48003 20.3599 5.67003C20.4578 5.68352 20.5521 5.71626 20.6374 5.76634C20.7227 5.81643 20.7972 5.88289 20.8567 5.96189C20.9162 6.04089 20.9594 6.13087 20.984 6.22666C21.0086 6.32245 21.014 6.42215 20.9999 6.52003ZM11.5599 5.09003H15.1399L14.8799 3.67003C14.8331 3.41223 14.6974 3.179 14.4964 3.0109C14.2954 2.84281 14.0419 2.7505 13.7799 2.75003H10.2499C9.98807 2.74965 9.73427 2.84019 9.53182 3.00616C9.32937 3.17213 9.19082 3.40325 9.13986 3.66003L8.86985 5.09003H11.5599Z"
                        fill="#666666" />
                </svg>
            </div>
        </section>

    </div>
</template>

<script setup lang="ts">
import { computed, type PropType } from 'vue';
import type { FileTypeEnum } from '@/constants/constant.enum';

const props = defineProps({
    fileType: {
        type: String as PropType<FileTypeEnum>,
        required: true
    },
    fileName: {
        type: String,
        required: true
    },
    fileSize: {
        type: Number,
        required: true
    }
});

const emit = defineEmits(['reset']);

const formattedFileSize = computed(() => {
    if (props.fileSize.toString().length >= 6) {
        return `${(props.fileSize / 1000000).toFixed(2)} Mo`;
    }
    else if (props.fileSize.toString().length >= 3) {
        return `${(props.fileSize / 1000).toFixed(2)} Ko`;
    }
    return `${props.fileSize} o`;
});
</script>

<style lang="scss" scoped></style>